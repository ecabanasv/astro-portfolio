---
import { contactSection } from '../data/contact';

const { heading, description, links } = contactSection;

const linkClass = (variant: 'outline' | 'primary') =>
  variant === 'primary' ? 'btn btn-primary' : 'btn btn-outline';
---
<section id="contact" class="section container">
  <div class="contact-card">
    <div class="grid gap-8 lg:grid-cols-[1.1fr_0.9fr]">
      <div class="space-y-4">
        <div class="flex flex-col gap-2 md:flex-row md:items-center md:justify-between">
          <div>
            <h2 class="mb-2">{heading}</h2>
            <p class="text-gray-700 dark:text-gray-200">
              {description}
            </p>
          </div>
          <div class="flex items-center gap-3 text-xs font-medium text-blue-700 dark:text-emerald-200">
            <span class="h-2 w-2 rounded-full bg-emerald-400 shadow-[0_0_0_4px_rgba(22,242,179,0.18)]"></span>
            Responding within 24 hours
          </div>
        </div>

        <div class="overflow-hidden rounded-2xl border border-white/60 shadow-sm dark:border-white/10">
          <iframe
            title="Google Maps office placeholder"
            src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d12638.071939428366!2d-121.4944!3d38.5816!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x809ad0b1e282e303%3A0xceda3c700f2a0a95!2sSacramento%2C%20CA%2C%20USA!5e0!3m2!1sen!2sus!4v1700000000000!5m2!1sen!2sus"
            allowfullscreen=""
            loading="lazy"
            referrerpolicy="no-referrer-when-downgrade"
            class="h-72 w-full border-0"
          ></iframe>
        </div>

        <div class="mt-4 flex flex-wrap items-center gap-3 text-sm">
          {links.map(link => (
            <a
              key={link.id}
              href={link.href}
              class={`${linkClass(link.variant)} inline-flex items-center gap-2`}
              aria-label={link.ariaLabel}
              target={link.external ? '_blank' : undefined}
              rel={link.external ? 'noopener' : undefined}
              download={link.download ? '' : undefined}
            >
              {link.id === 'email' && (
                <svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M3 7l9 6 9-6"/><path d="M21 7v10a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V7"/></svg>
              )}
              {link.id === 'linkedin' && (
                <svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" stroke="currentColor"><rect x="4" y="4" width="16" height="16" rx="2"/><path d="M8 11v5"/><path d="M8 8h.01"/><path d="M12 16v-5"/><path d="M16 16v-3a2 2 0 0 0-4 0"/></svg>
              )}
              {link.id === 'github' && (
                <svg class="h-5 w-5" viewBox="0 0 24 24" fill="currentColor"><path d="M12 .5a12 12 0 0 0-3.79 23.4c.6.11.82-.26.82-.58v-2.02c-3.35.73-4.05-1.6-4.05-1.6-.55-1.39-1.35-1.76-1.35-1.76-1.1-.76.08-.74.08-.74 1.22.09 1.86 1.26 1.86 1.26 1.08 1.85 2.84 1.32 3.53 1.01.11-.79.42-1.32.76-1.62-2.67-.31-5.48-1.34-5.48-5.95 0-1.31.47-2.38 1.24-3.22-.12-.31-.54-1.56.12-3.25 0 0 1.01-.32 3.3 1.23a11.46 11.46 0 0 1 6 0c2.29-1.55 3.3-1.23 3.3-1.23.66 1.69.24 2.94.12 3.25.77.84 1.24 1.91 1.24 3.22 0 4.62-2.81 5.64-5.49 5.94.43.37.81 1.1.81 2.22v3.3c0 .32.22.69.83.57A12 12 0 0 0 12 .5z"/></svg>
              )}
              {link.id === 'download' && (
                <svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M12 3v12"/><path d="M8 11l4 4 4-4"/><path d="M20 21H4"/></svg>
              )}
              {link.label}
            </a>
          ))}
        </div>
      </div>

      <div class="rounded-2xl border border-white/50 bg-white/80 p-6 shadow-sm backdrop-blur dark:border-white/10 dark:bg-white/[0.06]">
        <div class="flex items-center justify-between gap-2">
          <div>
            <p class="text-xs font-semibold uppercase tracking-[0.2em] text-blue-700 dark:text-emerald-200">Contact form</p>
            <h3 class="text-xl mt-1">Drop a note</h3>
          </div>
        </div>
        <form class="mt-4 space-y-4" action="https://example.com/" method="POST">
          <div class="grid gap-4 md:grid-cols-2">
            <label class="block">
              <span class="sr-only">Full name</span>
              <input class="input" name="name" type="text" placeholder="Full name" required />
            </label>
            <label class="block">
              <span class="sr-only">Email address</span>
              <input class="input" name="email" type="email" placeholder="Email address" required />
            </label>
          </div>
          <label class="block">
            <span class="sr-only">Your message</span>
            <textarea class="textarea" name="message" placeholder="Your message" required></textarea>
          </label>
          <div class="flex flex-wrap items-center justify-between gap-3">
            <p class="text-xs text-gray-500 dark:text-gray-400">By default this is a static form. Replace the action with your endpoint (Formspree, Netlify, etc.).</p>
            <button type="submit" class="btn btn-primary text-sm inline-flex items-center gap-2">
              <svg class="h-4 w-4" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M5 12h14"/><path d="M12 5l7 7-7 7"/></svg>
              Send message
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
</section>
