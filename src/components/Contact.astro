---
import { contactSection } from "../data/contact";
import Section from "./ui/Section.astro";
import Card from "./ui/Card.astro";
import Button from "./ui/Button.astro";

const { heading, description, links } = contactSection;
---

<Section id="contact">
  <Card
    class="relative overflow-hidden border-none bg-gradient-to-br from-surface via-surface to-primary/5 shadow-xl"
  >
    <!-- Decorative background -->
    <div
      class="absolute -left-20 -top-20 h-64 w-64 rounded-full bg-primary/10 blur-3xl"
    >
    </div>

    <div class="relative grid gap-10 lg:grid-cols-[1fr_1fr] p-8 md:p-12">
      <div class="space-y-8">
        <div class="space-y-4">
          <div
            class="flex items-center gap-2 text-xs font-bold uppercase tracking-widest text-accent"
          >
            <span class="relative flex h-2 w-2">
              <span
                class="absolute inline-flex h-full w-full animate-ping rounded-full bg-accent opacity-75"
              ></span>
              <span class="relative inline-flex h-2 w-2 rounded-full bg-accent"
              ></span>
            </span>
            Responding within 24 hours
          </div>
          <h2 class="text-3xl md:text-4xl font-bold">{heading}</h2>
          <p class="text-lg text-text-muted leading-relaxed">
            {description}
          </p>
        </div>

        <div
          class="overflow-hidden rounded-xl border border-border shadow-sm h-64"
        >
          <iframe
            title="Office location"
            src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d12638.071939428366!2d-121.4944!3d38.5816!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x809ad0b1e282e303%3A0xceda3c700f2a0a95!2sSacramento%2C%20CA%2C%20USA!5e0!3m2!1sen!2sus!4v1700000000000!5m2!1sen!2sus"
            class="h-full w-full border-0 grayscale opacity-80 hover:grayscale-0 hover:opacity-100 transition-all duration-500"
            loading="lazy"
            referrerpolicy="no-referrer-when-downgrade"></iframe>
        </div>

        <div class="flex flex-wrap gap-3">
          {
            links.map((link) => (
              <Button
                href={link.href}
                variant={link.variant === "primary" ? "primary" : "outline"}
                size="sm"
                target={link.external ? "_blank" : undefined}
                rel={link.external ? "noopener" : undefined}
              >
                {link.label}
              </Button>
            ))
          }
        </div>
      </div>

      <div
        class="bg-surface/50 backdrop-blur-sm rounded-2xl border border-border p-6 md:p-8"
      >
        <div class="mb-6">
          <span class="text-xs font-bold uppercase tracking-widest text-primary"
            >Contact form</span
          >
          <h3 class="mt-1 text-2xl font-bold">Drop a note</h3>
        </div>

        <form class="space-y-4" action="https://example.com/" method="POST">
          <div class="grid gap-4 md:grid-cols-2">
            <div class="space-y-2">
              <label for="name" class="sr-only">Full name</label>
              <input
                id="name"
                class="w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2"
                name="name"
                type="text"
                placeholder="Full name"
                required
              />
            </div>
            <div class="space-y-2">
              <label for="email" class="sr-only">Email address</label>
              <input
                id="email"
                class="w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2"
                name="email"
                type="email"
                placeholder="Email address"
                required
              />
            </div>
          </div>
          <div class="space-y-2">
            <label for="message" class="sr-only">Your message</label>
            <textarea
              id="message"
              class="min-h-[120px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2"
              name="message"
              placeholder="Your message"
              required></textarea>
          </div>

          <div
            class="flex flex-col sm:flex-row items-center justify-between gap-4 pt-2"
          >
            <p class="text-xs text-text-muted">
              This is a demo form. Connect it to your backend.
            </p>
            <Button type="submit" class="w-full sm:w-auto">
              Send message
            </Button>
          </div>
        </form>
      </div>
    </div>
  </Card>
</Section>
